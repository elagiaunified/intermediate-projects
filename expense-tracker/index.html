<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Expense Tracker | Multi-Currency Finance Manager</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-wallet"></i> Smart Expense Tracker</h1>
                <p class="tagline">Track, analyze, and optimize your finances with multi-currency support</p>
            </div>
            <div class="header-stats">
                <div class="stat">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Total Balance</span>
                    <strong id="totalBalance">$0.00</strong>
                </div>
                <div class="stat">
                    <i class="fas fa-arrow-up"></i>
                    <span>Income</span>
                    <strong class="positive" id="totalIncome">$0.00</strong>
                </div>
                <div class="stat">
                    <i class="fas fa-arrow-down"></i>
                    <span>Expenses</span>
                    <strong class="negative" id="totalExpenses">$0.00</strong>
                </div>
                <div class="stat">
                    <i class="fas fa-globe"></i>
                    <span>Currency</span>
                    <strong id="currentCurrency">USD</strong>
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- Currency & Settings -->
            <section class="currency-section">
                <div class="currency-card">
                    <h3><i class="fas fa-exchange-alt"></i> Currency Settings</h3>
                    <div class="currency-controls">
                        <div class="currency-selector">
                            <label for="baseCurrency">Base Currency</label>
                            <div class="select-wrapper">
                                <select id="baseCurrency" class="currency-select">
                                    <option value="USD">üá∫üá∏ USD - US Dollar</option>
                                    <option value="EUR">üá™üá∫ EUR - Euro</option>
                                    <option value="GBP">üá¨üáß GBP - British Pound</option>
                                    <option value="JPY">üáØüáµ JPY - Japanese Yen</option>
                                    <option value="CAD">üá®üá¶ CAD - Canadian Dollar</option>
                                    <option value="AUD">üá¶üá∫ AUD - Australian Dollar</option>
                                    <option value="CHF">üá®üá≠ CHF - Swiss Franc</option>
                                    <option value="CNY">üá®üá≥ CNY - Chinese Yuan</option>
                                    <option value="INR">üáÆüá≥ INR - Indian Rupee</option>
                                    <option value="BRL">üáßüá∑ BRL - Brazilian Real</option>
                                    <option value="ZAR">üáøüá¶ ZAR - South African Rand</option>
                                </select>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        
                        <div class="auto-detect">
                            <label class="checkbox">
                                <input type="checkbox" id="autoDetectCurrency" checked>
                                <span class="checkmark"></span>
                                <span>Auto-detect currency based on location</span>
                            </label>
                            <div class="detected-currency" id="detectedCurrency">
                                <i class="fas fa-map-marker-alt"></i>
                                Detected: <strong id="detectedCurrencyCode">--</strong>
                            </div>
                        </div>
                        
                        <div class="exchange-rates">
                            <h4><i class="fas fa-chart-line"></i> Live Exchange Rates</h4>
                            <div class="rates-grid" id="exchangeRates">
                                <!-- Exchange rates will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add Transaction -->
            <section class="transaction-section">
                <div class="transaction-card">
                    <h3><i class="fas fa-plus-circle"></i> Add New Transaction</h3>
                    <div class="transaction-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="transactionType">Type</label>
                                <div class="type-toggle">
                                    <button type="button" class="type-btn active" data-type="expense">
                                        <i class="fas fa-arrow-down"></i> Expense
                                    </button>
                                    <button type="button" class="type-btn" data-type="income">
                                        <i class="fas fa-arrow-up"></i> Income
                                    </button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="amount">Amount</label>
                                <div class="amount-input">
                                    <span class="currency-symbol" id="currencySymbol">$</span>
                                    <input type="number" id="amount" placeholder="0.00" step="0.01" min="0">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="transactionCurrency">Currency</label>
                                <select id="transactionCurrency" class="currency-select">
                                    <!-- Options will be populated by JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="category">Category</label>
                                <select id="category" class="category-select">
                                    <option value="">Select Category</option>
                                    <option value="food">üçï Food & Dining</option>
                                    <option value="transport">üöó Transportation</option>
                                    <option value="shopping">üõçÔ∏è Shopping</option>
                                    <option value="entertainment">üé¨ Entertainment</option>
                                    <option value="housing">üè† Housing</option>
                                    <option value="utilities">üí° Utilities</option>
                                    <option value="health">üè• Health & Medical</option>
                                    <option value="education">üìö Education</option>
                                    <option value="travel">‚úàÔ∏è Travel</option>
                                    <option value="other">üì¶ Other</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="date">Date</label>
                                <input type="date" id="date" value="">
                            </div>
                            
                            <div class="form-group">
                                <label for="recurring">Recurring</label>
                                <select id="recurring">
                                    <option value="none">One-time</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                    <option value="yearly">Yearly</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="description">Description</label>
                            <input type="text" id="description" placeholder="Enter description (e.g., 'Grocery shopping at Walmart')">
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="tags">Tags</label>
                            <div class="tags-input">
                                <input type="text" id="tagInput" placeholder="Add tags (press Enter)">
                                <div class="tags-container" id="tagsContainer">
                                    <!-- Tags will appear here -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="addTransaction" class="add-btn">
                                <i class="fas fa-check"></i> Add Transaction
                            </button>
                            <button type="button" id="clearForm" class="clear-btn">
                                <i class="fas fa-eraser"></i> Clear
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Charts -->
            <section class="dashboard-section">
                <div class="dashboard-header">
                    <h2><i class="fas fa-chart-bar"></i> Financial Dashboard</h2>
                    <div class="dashboard-controls">
                        <select id="timeRange" class="time-select">
                            <option value="week">This Week</option>
                            <option value="month" selected>This Month</option>
                            <option value="quarter">Last 3 Months</option>
                            <option value="year">This Year</option>
                            <option value="all">All Time</option>
                        </select>
                        <button id="exportData" class="export-btn">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
                
                <div class="charts-grid">
                    <!-- Balance Trend -->
                    <div class="chart-card">
                        <h3><i class="fas fa-line-chart"></i> Balance Trend</h3>
                        <div class="chart-container">
                            <canvas id="balanceChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Expense Categories -->
                    <div class="chart-card">
                        <h3><i class="fas fa-chart-pie"></i> Expense Categories</h3>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Income vs Expenses -->
                    <div class="chart-card full-width">
                        <h3><i class="fas fa-balance-scale"></i> Income vs Expenses</h3>
                        <div class="chart-container">
                            <canvas id="incomeExpenseChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transactions Table -->
            <section class="transactions-section">
                <div class="transactions-header">
                    <h2><i class="fas fa-list"></i> Recent Transactions</h2>
                    <div class="transactions-controls">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchTransactions" placeholder="Search transactions...">
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="expense">Expenses</button>
                            <button class="filter-btn" data-filter="income">Income</button>
                        </div>
                    </div>
                </div>
                
                <div class="transactions-table-container">
                    <table class="transactions-table" id="transactionsTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Category</th>
                                <th>Amount</th>
                                <th>Currency</th>
                                <th>Converted</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsBody">
                            <!-- Transactions will be loaded here -->
                            <tr class="empty-row">
                                <td colspan="7">
                                    <div class="empty-transactions">
                                        <i class="fas fa-receipt"></i>
                                        <p>No transactions yet. Add your first expense or income!</p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div class="summary">
                        <div class="summary-item">
                            <span>Total Transactions:</span>
                            <strong id="totalTransactions">0</strong>
                        </div>
                        <div class="summary-item">
                            <span>This Month:</span>
                            <strong id="monthTransactions">0</strong>
                        </div>
                        <div class="summary-item">
                            <span>Average Expense:</span>
                            <strong id="averageExpense">$0.00</strong>
                        </div>
                    </div>
                    <div class="pagination" id="transactionsPagination">
                        <!-- Pagination will be added here -->
                    </div>
                </div>
            </section>

            <!-- Budget Management -->
            <section class="budget-section">
                <div class="budget-card">
                    <div class="budget-header">
                        <h3><i class="fas fa-bullseye"></i> Budget Management</h3>
                        <button id="addBudget" class="add-budget-btn">
                            <i class="fas fa-plus"></i> Add Budget
                        </button>
                    </div>
                    
                    <div class="budget-categories" id="budgetCategories">
                        <!-- Budget items will be loaded here -->
                        <div class="empty-budgets">
                            <i class="fas fa-chart-pie"></i>
                            <p>No budgets set. Create budgets to track your spending!</p>
                        </div>
                    </div>
                </div>
                
                <!-- Financial Insights -->
                <div class="insights-card">
                    <h3><i class="fas fa-lightbulb"></i> Financial Insights</h3>
                    <div class="insights-list" id="insightsList">
                        <div class="insight-item">
                            <i class="fas fa-info-circle"></i>
                            <p>Add transactions to get personalized insights</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Currency Converter Tool -->
            <section class="converter-section">
                <div class="converter-card">
                    <h3><i class="fas fa-calculator"></i> Currency Converter</h3>
                    <div class="converter-tool">
                        <div class="converter-row">
                            <div class="converter-input">
                                <input type="number" id="converterAmount" value="100" step="0.01">
                                <select id="converterFrom" class="currency-select">
                                    <!-- Options will be populated -->
                                </select>
                            </div>
                            
                            <div class="converter-swap">
                                <button id="swapCurrencies">
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                            </div>
                            
                            <div class="converter-output">
                                <input type="text" id="converterResult" readonly>
                                <select id="converterTo" class="currency-select">
                                    <!-- Options will be populated -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="converter-info">
                            <p id="exchangeRateInfo">1 USD = -- EUR</p>
                            <button id="updateRates" class="update-btn">
                                <i class="fas fa-sync-alt"></i> Update Rates
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Smart Expense Tracker</h4>
                    <p>Multi-currency financial management</p>
                    <p>Real-time exchange rates</p>
                </div>
                <div class="footer-section">
                    <h4>Features</h4>
                    <p>Auto currency detection</p>
                    <p>Interactive charts</p>
                    <p>Budget tracking</p>
                </div>
                <div class="footer-section">
                    <h4>Data Source</h4>
                    <p>ExchangeRate-API</p>
                    <p>Live currency data</p>
                </div>
                <div class="footer-section">
                    <h4>Project</h4>
                    <p>Intermediate Project #3</p>
                    <p>Expense Tracker</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2023 Smart Expense Tracker | Track smarter, save better</p>
                <p class="api-note">Using ExchangeRate-API for live currency data</p>
            </div>
        </footer>

        <!-- Budget Modal -->
        <div class="modal" id="budgetModal">
            <div class="modal-content">
                <button class="close-modal">&times;</button>
                <h2><i class="fas fa-bullseye"></i> Set Budget</h2>
                <div class="modal-body">
                    <!-- Budget form will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Export Modal -->
        <div class="modal" id="exportModal">
            <div class="modal-content">
                <button class="close-modal">&times;</button>
                <h2><i class="fas fa-download"></i> Export Data</h2>
                <div class="modal-body">
                    <div class="export-options">
                        <div class="export-option">
                            <i class="fas fa-file-csv"></i>
                            <h3>CSV Format</h3>
                            <p>Export transactions as CSV file</p>
                            <button id="exportCSV" class="export-format-btn">
                                <i class="fas fa-download"></i> Download CSV
                            </button>
                        </div>
                        <div class="export-option">
                            <i class="fas fa-file-pdf"></i>
                            <h3>PDF Report</h3>
                            <p>Generate PDF financial report</p>
                            <button id="exportPDF" class="export-format-btn">
                                <i class="fas fa-download"></i> Generate PDF
                            </button>
                        </div>
                        <div class="export-option">
                            <i class="fas fa-file-excel"></i>
                            <h3>JSON Data</h3>
                            <p>Export raw data for analysis</p>
                            <button id="exportJSON" class="export-format-btn">
                                <i class="fas fa-download"></i> Download JSON
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-content">
                <i class="fas fa-sync-alt fa-spin"></i>
                <p>Updating exchange rates...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
